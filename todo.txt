
Release 5:

Tests (high priority):
- utils tested
- combat tested
 - tactic manpower 
- check that reinforcement is stable (higher key ends in right position)

Refactor:
- Getting rid of custom map, reduce, etc functions as much as possible.
- reducer utils.ts has lots of army/participant functions, some kind of sense? 
- props to fromStateToProps to do better filtering

Reducers can probably be split to sub reducers (one handles the data structure, other the actual data)

Rowtype selectors could show unit priority? Different colors for main and flank. Frontline could slightly color tiles based on main/flank.

Pluralization of reducers, state, etc

Combat things to combat reducer. Perhaps state as parameter when needed? Since it only changes same things as battle reducer,

Deployment changed in latest beta? To be messed up like with multiarmy?

Stats to show amount of traditions, trade, etc..

File import/export to transfer


Release 6+:

Army management:
- Probably needed for multi-army battles because countries need to have multiple armies
- General selector to units page, renamed to army?
- Custom changes for whole country, renamed to country?
- Accordion for general?
- Accordion for reserve?
- Accordion for unit definitions?


- Accordions to more places?? (unit detail?)


- Immutable reviver to simplify fromJS calls when transforming data?
- Index files don't really work with circular references (some types are used everywhere)
   * Own files for types?
   * Get rid of index files?
   * Fix problems one by one when they appear?

Countries:
- Tag selector for tech (some inventions are tag specific)
- Tag preset selector for common tags (selects tradition, tag for tech and religion)

Navigation:
- Toggle for simple mode, enabled by default: disables army management, disabled army selection, unit / terrain / tactic management

Settings:
- Better descriptions
- Show list of "Increase value to ...", "Decrease value too", green and red colors for increase and decrease.
- Gives a better idea how the attribute affects the result.


Siege:
- Time to capture
- Units lost to attrition
- Fort level
- Commander martial + traits
- Research bonuses

Land battle:
- Loyalty gives +10% discipline, include or not?
- Deployment order based also on manpower!! (before index), need to to test whether full strength is prioritized for both deploy and reinforce
- With multiple armies: preferred flank size is halved (not always, sometimes also unit jumps directly to middle...), filled first (reverse index order), then from middle

Multi army:
- Two armies attack: First army on initial deployment on day 0, second army does from bottom to top
- Two armies attack, second one day later: Second army from bottom to top on day 2 (1 day after arrival), two last units of first army get moved to second last and third last spots???
- When an army joins: two lasts units of current army are given low priority, the last unit of the new army is given even lower priority
- If last unit in the current army gets defeated right before new army joins, the move is not done. Move is checked before defeated are removed? Weird logic...

Multi army flanking:
- 20 vs 10 + 10, not happened
- 10 vs 10 + 10, happened. But first unit of second army goes to index 1??
- 10 vs 5 + 5, happened, again first unit goes to index 1...
- Flank size depends on amount of units??
- 8 vs 10 + 10, 5 units on sides, but edges empty, edges filled filled edge to center, center filled from center to edge.
- 8 vs 5 + 5, 5 units on sides, but edges empty
- 6 vs 10 + 10, 5 units on sides
- 9 vs 10 + 10, flank size 10, 5 units on sides, but edges empty
- 8 vs 10 + 10, flank size 10, 7 units on sides, but edges empty
- 7 vs 10 + 10, flank size 10, 10 units on sides, but edges empty
- 6 vs 10 + 10, flank size 10, 10 units on sides, but edges empty
- 2 vs 10 + 10, flank size 10, 5 units on sides
- If units move together, 2 x edges on sides

Findings:
- Preferred flank is first army sets maximum amount of units put on sides (or the bigger army??).
- Sides have 1 x empty, but if armies together then 2 x empty.
- Amount of enemy? units determines flank (10 + 10 own units). 
  - 20 units: 0 flank but weird shifting
  - 10 units: 1 flank
  - 9 units: 5 flank
  - 8 units: 7 flank
  - 7 units: 10 flank (capped)
  - 6 units: 10 flank (capped)
  - 4 units: 10 flank (capped)
  - 3 units: 7 flank
  - 2 units: 5 flank
  - 1 units: 1 flank
  - 1 units + 1 + 5: 5 flank
  - 1 units + 1 + 10: 5 flank
  - 1 units + 1 + 10: 10 flank
  - 1 vs 9 + 10: 5 flank -> no flank, only 9 units deploy, 2 shift to edges
  - 1 vs 9 + 10: 10 flank -> 2 flank
  - 1 vs 9 + 10: 2 flank -> no flank, only 3 units deploy, 2 shift to edges
- Set units to flank, no units deploy!! except with 10 flank

Findings 2:
- 2 reinforcement modes:
  - Flanking: Some units set to edges
  - Non-flanking: Shift, not all (flank?) units deploy
- Flank size may change mode
- Mode seems to be also affected by amount of units in the filled
- Amount of units also affects flank size

Navigation:
- Simulation
- Graphs
